<!DOCTYPE>
<html>

<head>
    <title>Demographics Movement</title>
    <link rel="stylesheet" type="text/css" href="main.css" />
    <link rel="stylesheet" href="css/bootstrap.iframe.css" />
    <link rel="stylesheet" href="css/custom.css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet">
    <script src="js/dummy.js"></script>
    <link rel="icon" type="img/ico" href="images/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1"> </head>

<body>
    <script type="text/javascript" src="https://maps.google.com/maps/api/js?v=3"></script>
    <script type="text/javascript">
        //FOR MAP
        var selectrace = "white";
        var selectyear = "2010"
        var mapId = "1R9oGEbQbFpX8M8sn5Dxj3Lh8pBA18woIdAteYotp";

        function raceClick(race) {
            //UPDATE RACE
            selectrace = race;
            console.log("Race changed to: " + selectrace);
            updateMapId(selectrace, selectyear);
            initialize();
            console.log('MAP CHANGED');
            var elements = document.getElementsByClassName('race-column-button');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.backgroundColor = 'white';
            }
            document.getElementById(race).style.backgroundColor = "#ff7800";
        }

        function yearClick(year) {
            //UPDATE YEAR
            selectyear = year;
            console.log("Year changed to: " + selectyear);
            updateMapId(selectrace, selectyear);
            initialize();
            console.log('MAP CHANGED');
            var elements = document.getElementsByClassName('year-column-button');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.backgroundColor = 'white';
            }
            document.getElementById(year).style.backgroundColor = "#ff7800";
        }

        function updateMapId(race, year) {
            if (year == '2010') {
                if (race == 'white') {
                    mapId = '1R9oGEbQbFpX8M8sn5Dxj3Lh8pBA18woIdAteYotp';
                }
                else if (race == 'black') {
                    mapId = '1FWwb6BatCCT9WX6h4pdYKcDdSosA6JwMXLxC2X2T';
                }
                else if (race == 'native') {
                    mapId = '1LBPb3viji0_Xr2rGZJvHqpZgAAMYgv_lC-FObpqj';
                }
                else if (race == 'asian') {
                    mapId = '1tycIjNWIlGki5Bvdr58cLvXN2rMZvcaWOlVhQAp_';
                }
                else if (race == 'islander') {
                    mapId = '12ywAtjeeO91nbSzgo9Bt0ED1TtlJr2z7z4d6DSlR';
                }
                else if (race == 'other') {
                    mapId = '1lH8vWxFc63n9toEuZrqI8cnlV5u1MTungJAPWmko';
                }
                else if (race == 'combo') {
                    mapId = '1cQtgSvCMCG8Ibz07quDQ3npq3k0IqjmsRVay0jov';
                }
            }
            else if (year == '2011') {
                if (race == 'white') {
                    mapId = '1_9Boe53Bu8_ttUEINvFN0YmGLdapj9gP7I3TI6AA';
                }
                else if (race == 'black') {
                    mapId = '1RHF9CREJ5aDwnsBGz40eEnqSvHhslr1hEVfzaHof';
                }
                else if (race == 'native') {
                    mapId = '1pSnq0Oibgco0RV8GpXMd_7FoVGkSjOqiJeDqksgJ';
                }
                else if (race == 'asian') {
                    mapId = '116uHJEmIUUi19iP5AxLS-r2Kn8UbY1owQ6VMMUkE';
                }
                else if (race == 'islander') {
                    mapId = '11XQ8ppFUfJE8QSZS_YEXnwbBtiLzAPEyWn8Xze3g';
                }
                else if (race == 'other') {
                    mapId = '1pI7a0MdVzos_6SBrOdPQ8XOzN848PGHTi9uX0xvF';
                }
                else if (race == 'combo') {
                    mapId = '1g0iq4KQBQik0n5b7Xi-6TDMEJ5y81FEL5ULO8aTf';
                }
            }
            else if (year == '2012') {
                if (race == 'white') {
                    mapId = '1myMISBxvKMxlZMK3euu5IZfPMhCc0MQ3JctILKtO';
                }
                else if (race == 'black') {
                    mapId = '1Zc6ynv26sgmzDimI8hJ_NgZZCpfAd00tIb3c04Jp';
                }
                else if (race == 'native') {
                    mapId = '1mDsyQoxKXG8AhvCTefyydhOs5wN2Xn41ZUbyqtuJ';
                }
                else if (race == 'asian') {
                    mapId = '1AwedsP2_S5RXC2SGloZMR2ufD3vZJrwfJBta0QuW';
                }
                else if (race == 'islander') {
                    mapId = '1ieNyMMV8BBhs2apBdGQUCb-xy_raKHeWsR78dhww';
                }
                else if (race == 'other') {
                    mapId = '1R7HcjA16xH6uaxPqXHsmEeMV6bwidt7VVfwsFFXP';
                }
                else if (race == 'combo') {
                    mapId = '16Zw-dLHlV-YkIww8qu08PzUBbujj-3RwRD4OHR3s';
                }
            }
            else if (year == '2013') {
                if (race == 'white') {
                    mapId = '1a4jbFlpr83OJ7yIchBICThtrInHf9pcEAJqWPqSc';
                }
                else if (race == 'black') {
                    mapId = '1KnBN5-el2qs7LysGrz_bxMWm5jhjOGUxdwMBeKnX';
                }
                else if (race == 'native') {
                    mapId = '1og2UafSqZzJqZZHpY_Xenw9ZnUIrZN8qukJ4-M2y';
                }
                else if (race == 'asian') {
                    mapId = '1mKut3QXVxUHMk9ZIRkIVx9G_f5IWnhq48filUCgU';
                }
                else if (race == 'islander') {
                    mapId = '1Obp1tZig6e-UFcMR4eNoVkR1AKKCDETYBLsiYzCQ';
                }
                else if (race == 'other') {
                    mapId = '1dlhLCoBKwD191LXCnA328v9EgRQkILGIJHELP4Br';
                }
                else if (race == 'combo') {
                    mapId = '1JkhDk99Pe-2ZMX40refKPbn7ewboBR5leMKioUCw';
                }
            }
            else if (year == '2014') {
                if (race == 'white') {
                    mapId = '1FFMw8MAYRUm26y0fVD34PQU-6O8lRW-KfACVQlbe';
                }
                else if (race == 'black') {
                    mapId = '1n6KS7DKnhPVASPyhDkngnB1H_asSFFPt0OOS-J7r';
                }
                else if (race == 'native') {
                    mapId = '11R0iPeYP33iiNINCt3RRtkmGtajI3p8BMzS97DDJ';
                }
                else if (race == 'asian') {
                    mapId = '1kyHKpycEqa3ZfQfBVZMyG4owDzGrOLIpArRE40bR';
                }
                else if (race == 'islander') {
                    mapId = '1UKess0Q4B9RbIww5p_vs1edGclmgOCID6ICyrEar';
                }
                else if (race == 'other') {
                    mapId = '1F94dR0o0XWMOWSjSj4aiHkMdzrdQtPbhoJGY45sn';
                }
                else if (race == 'combo') {
                    mapId = '1I08zftNGMrPyOKI_6MTNhWKNg7WCRDS_AYBO5ofQ';
                }
            }
            else if (year == '2015') {
                if (race == 'white') {
                    mapId = '19rlSmXPfDf5qSNSJ6mpX9z-200juxv_gXa95gM6m';
                }
                else if (race == 'black') {
                    mapId = '1XG2xf52a-h3zRn-0iCWlvox1-5QTP-fCYsuIoutf';
                }
                else if (race == 'native') {
                    mapId = '1ZPgarrLzV3aOxiJz3ms6aygNEKj90TPiTrLWN8P5';
                }
                else if (race == 'asian') {
                    mapId = '1I2muHMw784Uav3A5MLzK1KK4RhKVhYEC21kqtst-';
                }
                else if (race == 'islander') {
                    mapId = '1tkneAWnkyU8G2K6sEjyq2bRWbRsOrzrypRL58eQ5';
                }
                else if (race == 'other') {
                    mapId = '1yB5vuSk7A-kVjUSwy-QJTSUdsBTxXn0CXH1Fyg_o';
                }
                else if (race == 'combo') {
                    mapId = '1BVp_j70EZ4zjJDJ25pj7VShOkTLDHj4EFurk967r';
                }
            }
            else if (year == '2016') {
                if (race == 'white') {
                    mapId = '1JXmQi36rLKYGDZYwVeYHSm-08pl1cM3ytwF_5hXi';
                }
                else if (race == 'black') {
                    mapId = '182XmH2-aT1gLNnvShoWzIOdTCxcH9OO1nIaSCV1d';
                }
                else if (race == 'native') {
                    mapId = '1bMp0y-mL-F_ed7My8kXpHxLCtT8jpRinXt95hKTB';
                }
                else if (race == 'asian') {
                    mapId = '1McUKBCyXpu0QJtbtvgWuWbp9kfyeAaFWnHjg4dkR';
                }
                else if (race == 'islander') {
                    mapId = '11RW-iQ7VxP-x9M9OCCGKq69F2xz60Z7WcGQnuMmT';
                }
                else if (race == 'other') {
                    mapId = '1Oronk4bWoaxzoKLkVVHtfXQuKQnBMHl3uHUjuH8y';
                }
                else if (race == 'combo') {
                    mapId = '1NPhRC_AyA2FVSLSdCSsgsMcmn-u_etEPgLqabRLI';
                }
            }
            console.log("MapId changed to: " + mapId);
        }

        function initialize() {
            var isMobile = (navigator.userAgent.toLowerCase().indexOf('android') > -1) || (navigator.userAgent.match(/(iPod|iPhone|iPad|BlackBerry|Windows Phone|iemobile)/));
            if (isMobile) {
                var viewport = document.querySelector("meta[name=viewport]");
                viewport.setAttribute('content', 'initial-scale=1.0, user-scalable=no');
            }
            var mapDiv = document.getElementById('googft-mapCanvas');
            var map = new google.maps.Map(mapDiv, {
                center: new google.maps.LatLng(30.302042273550025, -97.64095630979722)
                , zoom: 9
                , mapTypeId: google.maps.MapTypeId.ROADMAP
            });
            map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(document.getElementById('googft-legend-open'));
            map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(document.getElementById('googft-legend'));
            layer = new google.maps.FusionTablesLayer({
                map: map
                , heatmap: {
                    enabled: false
                }
                , query: {
                    select: "col34"
                    , from: mapId, //CHANGE ID AS NEEDED
                    where: ""
                }
                , options: {
                    styleId: 2
                    , templateId: 2
                }
            });
            if (isMobile) {
                var legend = document.getElementById('googft-legend');
                var legendOpenButton = document.getElementById('googft-legend-open');
                var legendCloseButton = document.getElementById('googft-legend-close');
                legend.style.display = 'none';
                legendOpenButton.style.display = 'block';
                legendCloseButton.style.display = 'block';
                legendOpenButton.onclick = function () {
                    legend.style.display = 'block';
                    legendOpenButton.style.display = 'none';
                }
                legendCloseButton.onclick = function () {
                    legend.style.display = 'none';
                    legendOpenButton.style.display = 'block';
                }
            }
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
    <div id="top">
        <div id="topTitleDiv">
            <h1 id="topTitle">Demographics Movement</h1> </div>
    </div>
    <div id="sideBar">
        <div id="sideBarContent">
            <div id="race-column">
                <h1 class="columnTitle">Race:</h1>
                <div class="columnList">
                    <div class="race-column-button" onclick="raceClick('white')" id='white'>
                        <p>White alone</p>
                    </div>
                    <div class="race-column-button" onclick="raceClick('black')" id='black'>
                        <p>Black alone</p>
                    </div>
                    <div class="race-column-button" onclick="raceClick('native')" id='native'>
                        <p>American Indian and Alaska Native alone</p>
                    </div>
                    <div class="race-column-button" onclick="raceClick('asian')" id='asian'>
                        <p>Asian alone</p>
                    </div>
                    <div class="race-column-button" onclick="raceClick('islander')" id='islander'>
                        <p>Native Hawaiian and Other Pacific Islander alone</p>
                    </div>
                    <div class="race-column-button" onclick="raceClick('other')" id='other'>
                        <p>Some other race alone</p>
                    </div>
                    <div class="race-column-button" onclick="raceClick('combo')" id='combo'>
                        <p>Two or more races</p>
                    </div>
                </div>
            </div>
            <div id="year-column">
                <h1 class="columnTitle">Year:</h1>
                <div class="columnList">
                    <div class="year-column-button" onclick="yearClick('2010')" id='2010'>
                        <p>2010</p>
                    </div>
                    <div class="year-column-button" onclick="yearClick('2011')" id='2011'>
                        <p>2011</p>
                    </div>
                    <div class="year-column-button" onclick="yearClick('2012')" id='2012'>
                        <p>2012</p>
                    </div>
                    <div class="year-column-button" onclick="yearClick('2013')" id='2013'>
                        <p>2013</p>
                    </div>
                    <div class="year-column-button" onclick="yearClick('2014')" id='2014'>
                        <p>2014</p>
                    </div>
                    <div class="year-column-button" onclick="yearClick('2015')" id='2015'>
                        <p>2015</p>
                    </div>
                    <div class="year-column-button" onclick="yearClick('2016')" id='2016'>
                        <p>2016</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="main">
        <!--<div id="legend">
            <h1 id="legendTitle">Gentrification Percentages:</h1>
            <div id="legendTable">
                <div class="legendRow">
                    <div class="legendSquare" style="background-color: #93201d"></div>
                    <div class="legendSubject">>70%</div>
                </div>
                <div class="legendRow">
                    <div class="legendSquare" style="background-color: #c9965c"></div>
                    <div class="legendSubject">50-70%</div>
                </div>
                <div class="legendRow">
                    <div class="legendSquare" style="background-color: #d2bb6d"></div>
                    <div class="legendSubject">40-50%</div>
                </div>
                <div class="legendRow">
                    <div class="legendSquare" style="background-color: #679c4a"></div>
                    <div class="legendSubject">
                        <40%</div>
                    </div>
                    <div class="legendRow">
                        <div class="legendSquare" style="background-color: #73a5cb"></div>
                        <div class="legendSubject">no data</div>
                    </div>
                </div> <a id="legendSource" target="_blank" href="https://fusiontables.google.com/DataSource?docid=101jSo8YC3qo5qZ-AbAoDWb6NSVp0Zr1tGgNhuxI0#rows:id=1">Source</a> </div>-->
        <!--MAP-->
        <div id="googft-mapCanvas"></div>
    </div>
</body>

</html>