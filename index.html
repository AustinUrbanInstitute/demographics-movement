<!DOCTYPE>
<html>

<head>
    <title>Demographics Movement</title>
    <link rel="stylesheet" type="text/css" href="main.css" />
    <link rel="stylesheet" href="css/bootstrap.iframe.css" />
    <link rel="stylesheet" href="css/custom.css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet">
    <script src="js/dummy.js"></script>
    <link rel="icon" type="img/ico" href="images/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1"> </head>

<body>
    <script type="text/javascript" src="https://maps.google.com/maps/api/js?v=3"></script>
    <script type="text/javascript">
        //FOR MAP
        var selectrace = "white";
        var selectyear = "2010"
        var mapId = "1R9oGEbQbFpX8M8sn5Dxj3Lh8pBA18woIdAteYotp";
        var key = "AIzaSyDi2_IGxty7Ek0d1rD5G-AWIJJV5tNGPEw";
        var selectmap = "race";

        function raceClick(race) {
            //UPDATE RACE
            selectrace = race;
            console.log("Race changed to: " + selectrace);
            updateMapId(selectrace, selectyear);
            initialize();
            console.log('MAP CHANGED');
            var elements = document.getElementsByClassName('race-column-button');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.backgroundColor = 'white';
            }
            document.getElementById(race).style.backgroundColor = "#ff7800";
            //Set 'Race' on other maps column background color
            var elements = document.getElementsByClassName('map-column-button');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.backgroundColor = 'white';
            }
            document.getElementById('race').style.backgroundColor = "#ff7800";
        }

        function yearClick(year) {
            //UPDATE YEAR
            selectyear = year;
            console.log("Year changed to: " + selectyear);
            console.log('Map changed to: ' + selectmap + ' ' + selectyear);
            if (selectmap == 'race') {
                updateMapId(selectrace, selectyear);
            }
            else {
                updateOtherMapId(selectmap, selectyear);
            }
            initialize();
            console.log('MAP CHANGED');
            var elements = document.getElementsByClassName('year-column-button');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.backgroundColor = 'white';
            }
            document.getElementById(year).style.backgroundColor = "#ff7800";
        }

        function mapClick(map) {
            //UPDATE MAP
            selectmap = map;
            console.log("Map changed to: " + selectmap);
            updateOtherMapId(selectmap, selectyear);
            initialize();
            console.log('MAP CHANGED');
            var elements = document.getElementsByClassName('map-column-button');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.backgroundColor = 'white';
            }
            document.getElementById(map).style.backgroundColor = "#ff7800";
        }

        function updateMapId(race, year) {
            changeTitle(year, race);
            if (year == '2010') {
                if (race == 'white') {
                    mapId = '1R9oGEbQbFpX8M8sn5Dxj3Lh8pBA18woIdAteYotp';
                }
                else if (race == 'black') {
                    mapId = '1FWwb6BatCCT9WX6h4pdYKcDdSosA6JwMXLxC2X2T';
                }
                else if (race == 'native') {
                    mapId = '1LBPb3viji0_Xr2rGZJvHqpZgAAMYgv_lC-FObpqj';
                }
                else if (race == 'asian') {
                    mapId = '1tycIjNWIlGki5Bvdr58cLvXN2rMZvcaWOlVhQAp_';
                }
                else if (race == 'islander') {
                    mapId = '12ywAtjeeO91nbSzgo9Bt0ED1TtlJr2z7z4d6DSlR';
                }
                else if (race == 'other') {
                    mapId = '1lH8vWxFc63n9toEuZrqI8cnlV5u1MTungJAPWmko';
                }
                else if (race == 'combo') {
                    mapId = '1cQtgSvCMCG8Ibz07quDQ3npq3k0IqjmsRVay0jov';
                }
            }
            else if (year == '2011') {
                if (race == 'white') {
                    mapId = '1_9Boe53Bu8_ttUEINvFN0YmGLdapj9gP7I3TI6AA';
                }
                else if (race == 'black') {
                    mapId = '1RHF9CREJ5aDwnsBGz40eEnqSvHhslr1hEVfzaHof';
                }
                else if (race == 'native') {
                    mapId = '1pSnq0Oibgco0RV8GpXMd_7FoVGkSjOqiJeDqksgJ';
                }
                else if (race == 'asian') {
                    mapId = '116uHJEmIUUi19iP5AxLS-r2Kn8UbY1owQ6VMMUkE';
                }
                else if (race == 'islander') {
                    mapId = '11XQ8ppFUfJE8QSZS_YEXnwbBtiLzAPEyWn8Xze3g';
                }
                else if (race == 'other') {
                    mapId = '1pI7a0MdVzos_6SBrOdPQ8XOzN848PGHTi9uX0xvF';
                }
                else if (race == 'combo') {
                    mapId = '1g0iq4KQBQik0n5b7Xi-6TDMEJ5y81FEL5ULO8aTf';
                }
            }
            else if (year == '2012') {
                if (race == 'white') {
                    mapId = '1myMISBxvKMxlZMK3euu5IZfPMhCc0MQ3JctILKtO';
                }
                else if (race == 'black') {
                    mapId = '1Zc6ynv26sgmzDimI8hJ_NgZZCpfAd00tIb3c04Jp';
                }
                else if (race == 'native') {
                    mapId = '1mDsyQoxKXG8AhvCTefyydhOs5wN2Xn41ZUbyqtuJ';
                }
                else if (race == 'asian') {
                    mapId = '1AwedsP2_S5RXC2SGloZMR2ufD3vZJrwfJBta0QuW';
                }
                else if (race == 'islander') {
                    mapId = '1ieNyMMV8BBhs2apBdGQUCb-xy_raKHeWsR78dhww';
                }
                else if (race == 'other') {
                    mapId = '1R7HcjA16xH6uaxPqXHsmEeMV6bwidt7VVfwsFFXP';
                }
                else if (race == 'combo') {
                    mapId = '16Zw-dLHlV-YkIww8qu08PzUBbujj-3RwRD4OHR3s';
                }
            }
            else if (year == '2013') {
                if (race == 'white') {
                    mapId = '1a4jbFlpr83OJ7yIchBICThtrInHf9pcEAJqWPqSc';
                }
                else if (race == 'black') {
                    mapId = '1KnBN5-el2qs7LysGrz_bxMWm5jhjOGUxdwMBeKnX';
                }
                else if (race == 'native') {
                    mapId = '1og2UafSqZzJqZZHpY_Xenw9ZnUIrZN8qukJ4-M2y';
                }
                else if (race == 'asian') {
                    mapId = '1mKut3QXVxUHMk9ZIRkIVx9G_f5IWnhq48filUCgU';
                }
                else if (race == 'islander') {
                    mapId = '1Obp1tZig6e-UFcMR4eNoVkR1AKKCDETYBLsiYzCQ';
                }
                else if (race == 'other') {
                    mapId = '1dlhLCoBKwD191LXCnA328v9EgRQkILGIJHELP4Br';
                }
                else if (race == 'combo') {
                    mapId = '1JkhDk99Pe-2ZMX40refKPbn7ewboBR5leMKioUCw';
                }
            }
            else if (year == '2014') {
                if (race == 'white') {
                    mapId = '1FFMw8MAYRUm26y0fVD34PQU-6O8lRW-KfACVQlbe';
                }
                else if (race == 'black') {
                    mapId = '1n6KS7DKnhPVASPyhDkngnB1H_asSFFPt0OOS-J7r';
                }
                else if (race == 'native') {
                    mapId = '11R0iPeYP33iiNINCt3RRtkmGtajI3p8BMzS97DDJ';
                }
                else if (race == 'asian') {
                    mapId = '1kyHKpycEqa3ZfQfBVZMyG4owDzGrOLIpArRE40bR';
                }
                else if (race == 'islander') {
                    mapId = '1UKess0Q4B9RbIww5p_vs1edGclmgOCID6ICyrEar';
                }
                else if (race == 'other') {
                    mapId = '1F94dR0o0XWMOWSjSj4aiHkMdzrdQtPbhoJGY45sn';
                }
                else if (race == 'combo') {
                    mapId = '1I08zftNGMrPyOKI_6MTNhWKNg7WCRDS_AYBO5ofQ';
                }
            }
            else if (year == '2015') {
                if (race == 'white') {
                    mapId = '19rlSmXPfDf5qSNSJ6mpX9z-200juxv_gXa95gM6m';
                }
                else if (race == 'black') {
                    mapId = '1XG2xf52a-h3zRn-0iCWlvox1-5QTP-fCYsuIoutf';
                }
                else if (race == 'native') {
                    mapId = '1ZPgarrLzV3aOxiJz3ms6aygNEKj90TPiTrLWN8P5';
                }
                else if (race == 'asian') {
                    mapId = '1I2muHMw784Uav3A5MLzK1KK4RhKVhYEC21kqtst-';
                }
                else if (race == 'islander') {
                    mapId = '1tkneAWnkyU8G2K6sEjyq2bRWbRsOrzrypRL58eQ5';
                }
                else if (race == 'other') {
                    mapId = '1yB5vuSk7A-kVjUSwy-QJTSUdsBTxXn0CXH1Fyg_o';
                }
                else if (race == 'combo') {
                    mapId = '1BVp_j70EZ4zjJDJ25pj7VShOkTLDHj4EFurk967r';
                }
            }
            else if (year == '2016') {
                if (race == 'white') {
                    mapId = '1JXmQi36rLKYGDZYwVeYHSm-08pl1cM3ytwF_5hXi';
                }
                else if (race == 'black') {
                    mapId = '182XmH2-aT1gLNnvShoWzIOdTCxcH9OO1nIaSCV1d';
                }
                else if (race == 'native') {
                    mapId = '1bMp0y-mL-F_ed7My8kXpHxLCtT8jpRinXt95hKTB';
                }
                else if (race == 'asian') {
                    mapId = '1McUKBCyXpu0QJtbtvgWuWbp9kfyeAaFWnHjg4dkR';
                }
                else if (race == 'islander') {
                    mapId = '11RW-iQ7VxP-x9M9OCCGKq69F2xz60Z7WcGQnuMmT';
                }
                else if (race == 'other') {
                    mapId = '1Oronk4bWoaxzoKLkVVHtfXQuKQnBMHl3uHUjuH8y';
                }
                else if (race == 'combo') {
                    mapId = '1NPhRC_AyA2FVSLSdCSsgsMcmn-u_etEPgLqabRLI';
                }
            }
            console.log("MapId changed to: " + mapId);
        }

        function updateOtherMapId(map, year) {
            if (map == 'race') {
                updateMapId(selectrace, selectyear);
            }
            else if (map == 'income') {
                changeTitle(year, 'Median Household Income');
                if (year == '2010') {
                    mapId = '1xU4YHshSzx-Cg3qC9i4z9SEFqPkQSjNSzZuTNAjL';
                }
                else if (year == '2011') {
                    mapId = '1YjxvV_aZnsRD7w3iFpAkDDWsxyezIUBEZ1xjhIJi';
                }
                else if (year == '2012') {
                    mapId = '16IaW45ZxyikcNQaZ5gYXzzHUFE1nVeVl3_QlrC4V';
                }
                else if (year == '2013') {
                    mapId = '1AQbR5Q-Z45BFDqVzFEmAkr4__XcOxE9IH07ujls_';
                }
                else if (year == '2014') {
                    mapId = '1mV0kTw7vGEEYIAhNsv98DoPvMvcvy_pBxTZNJUUQ';
                }
                else if (year == '2015') {
                    mapId = '12wGV2xMoO7oY4JMkyT0BoXoIqYEyicXJQiIpK1UZ';
                }
                else if (year == '2016') {
                    mapId = '1oxJ0YczeOTm9uUzLRYB5YDhHpK0IPkHgIf5RA4wi';
                }
            }
            else if (map == 'home-value') {
                changeTitle(year, 'Median Home Value');
                if (year == '2010') {
                    mapId = '1rWBHTAmQO9UImh-wC7m5KMYsjZq40rdtcGF2BxC8';
                }
                else if (year == '2011') {
                    mapId = '1DFv5-ZERF6l6vLhIOgN2OASwfUugp_tcVTpD8Ooh';
                }
                else if (year == '2012') {
                    mapId = '1T6xNYYLwXUhsGwB85_8N7dtFVbymEb9NoFhk7XQX';
                }
                else if (year == '2013') {
                    mapId = '1LagZ8gJs6BXY8SJl1T-bAh9R7-nHUGsiN1JYtuJe';
                }
                else if (year == '2014') {
                    mapId = '1zYOxzzlQe10ThYst_sKJ_y8CzXDBpxZbbUcsknpQ';
                }
                else if (year == '2015') {
                    mapId = '1K6Mn3U8Gi_lEeldW8IZuXJoNn9FLNm-C8L3aDw-1';
                }
                else if (year == '2016') {
                    mapId = '1EAbuFNtO42t95S-3zsh4nq8GYAMAP-pWyHSvjisv';
                }
            }
        }

        function changeTitle(year, name) {
            if (name == 'white') {
                name = 'White alone';
            }
            else if (name == 'black') {
                name = 'Black or African American alone';
            }
            else if (name == 'native') {
                name = 'American Indian and Alaska Native alone';
            }
            else if (name == 'asian') {
                name = 'Asian alone';
            }
            else if (name == 'islaner') {
                name = 'Native Hawaiian and Other Pacific Islander alone';
            }
            else if (name == 'other') {
                name = 'Some other race alone';
            }
            else if (name == 'combo') {
                name = 'Two or more races';
            }
            var title = document.getElementById('topTitle');
            title.innerHTML = "Demographics Movement: " + year + " " + name;
        }

        function initialize() {
            var isMobile = (navigator.userAgent.toLowerCase().indexOf('android') > -1) || (navigator.userAgent.match(/(iPod|iPhone|iPad|BlackBerry|Windows Phone|iemobile)/));
            if (isMobile) {
                var viewport = document.querySelector("meta[name=viewport]");
                viewport.setAttribute('content', 'initial-scale=1.0, user-scalable=no');
            }
            var mapDiv = document.getElementById('googft-mapCanvas');
            var map = new google.maps.Map(mapDiv, {
                key: key
                , center: new google.maps.LatLng(30.319042273550095, -97.8005630979722)
                , zoom: 10.7
                , mapTypeId: google.maps.MapTypeId.ROADMAP
                
            });
            map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(document.getElementById('googft-legend-open'));
            map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(document.getElementById('googft-legend'));
            layer = new google.maps.FusionTablesLayer({
                map: map
                , heatmap: {
                    enabled: false
                }
                , query: {
                    select: "col34"
                    , from: mapId, //CHANGE ID AS NEEDED
                    where: ""
                }
                , options: {
                    styleId: 2
                    , templateId: 2
                }
            });
            if (isMobile) {
                var legend = document.getElementById('googft-legend');
                var legendOpenButton = document.getElementById('googft-legend-open');
                var legendCloseButton = document.getElementById('googft-legend-close');
                legend.style.display = 'none';
                legendOpenButton.style.display = 'block';
                legendCloseButton.style.display = 'block';
                legendOpenButton.onclick = function () {
                    legend.style.display = 'block';
                    legendOpenButton.style.display = 'none';
                }
                legendCloseButton.onclick = function () {
                    legend.style.display = 'none';
                    legendOpenButton.style.display = 'block';
                }
            }
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
    <div id="top">
        <div id="topTitleDiv">
            <h1 id="topTitle">Demographics Movement: 2010 White alone</h1> </div>
    </div>
    <div id="sideBar">
        <div id="sideBarContent">
            <div id="raceYearDiv">
                <div id="race-column">
                    <h1 class="columnTitle">Race:</h1>
                    <div class="columnList">
                        <div class="race-column-button" onclick="raceClick('white')" id='white' style="background-color: #ff7800">
                            <p>White alone</p>
                        </div>
                        <div class="race-column-button" onclick="raceClick('black')" id='black'>
                            <p>Black or African American alone</p>
                        </div>
                        <div class="race-column-button" onclick="raceClick('native')" id='native'>
                            <p>American Indian and Alaska Native alone</p>
                        </div>
                        <div class="race-column-button" onclick="raceClick('asian')" id='asian'>
                            <p>Asian alone</p>
                        </div>
                        <div class="race-column-button" onclick="raceClick('islander')" id='islander'>
                            <p>Native Hawaiian and Other Pacific Islander alone</p>
                        </div>
                        <div class="race-column-button" onclick="raceClick('other')" id='other'>
                            <p>Some other race alone</p>
                        </div>
                        <div class="race-column-button" onclick="raceClick('combo')" id='combo'>
                            <p>Two or more races</p>
                        </div>
                    </div>
                </div>
                <div id="year-column">
                    <h1 class="columnTitle">Year:</h1>
                    <div class="columnList">
                        <div class="year-column-button" onclick="yearClick('2010')" id='2010' style="background-color: #ff7800">
                            <p>2010</p>
                        </div>
                        <div class="year-column-button" onclick="yearClick('2011')" id='2011'>
                            <p>2011</p>
                        </div>
                        <div class="year-column-button" onclick="yearClick('2012')" id='2012'>
                            <p>2012</p>
                        </div>
                        <div class="year-column-button" onclick="yearClick('2013')" id='2013'>
                            <p>2013</p>
                        </div>
                        <div class="year-column-button" onclick="yearClick('2014')" id='2014'>
                            <p>2014</p>
                        </div>
                        <div class="year-column-button" onclick="yearClick('2015')" id='2015'>
                            <p>2015</p>
                        </div>
                        <div class="year-column-button" onclick="yearClick('2016')" id='2016'>
                            <p>2016</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="mapTypeDiv">
                <h1 class="columnTitle">Maps:</h1>
                <div class="columnList">
                    <div class="map-column-button" onclick="mapClick('race')" id='race' style="background-color: #ff7800">
                        <p>Race</p>
                    </div>
                    <div class="map-column-button" onclick="mapClick('income')" id='income'>
                        <p>Median Houeshold Income</p>
                    </div>
                    <div class="map-column-button" onclick="mapClick('home-value')" id='home-value'>
                        <p>Median Home Value</p>
                    </div>
                </div>
            </div>
            <div id="sourceDiv">
                <div class="columnList">
                    <div class="source-column-button">
                        <p><strong>Source:</strong> <a href="https://factfinder.census.gov/faces/nav/jsf/pages/index.xhtml" target="_blank"><em>United States Census Bureau</em></a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="main">
        <div id="legend">
            <h1 id="legendTitle">Map Guide:</h1>
            <div id="legendTable">
                <div class="legendRow">
                    <div class="legendSubject">Mapped by census tract. Click on tract for more info.</div>
                </div>
                <div class="legendRow">
                    <div class="legendSquare" style="background-color: #93201d"></div>
                    <div class="legendSubject">>70%</div>
                </div>
                <div class="legendRow">
                    <div class="legendSquare" style="background-color: #c9965c"></div>
                    <div class="legendSubject">50-70%</div>
                </div>
        
                </div> <a id="legendSource" target="_blank" href="https://fusiontables.google.com/DataSource?docid=101jSo8YC3qo5qZ-AbAoDWb6NSVp0Zr1tGgNhuxI0#rows:id=1">Source</a> </div>
        <!--MAP-->
        <div id="googft-mapCanvas"></div>
    </div>
</body>

</html>